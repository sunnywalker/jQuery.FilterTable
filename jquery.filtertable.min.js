!function(e){var i=e.fn.jquery.split("."),t=parseFloat(i[0]),a=parseFloat(i[1]);e.expr[":"].filterTableFind=2>t&&8>a?function(i,t,a){return e(i).text().toUpperCase().indexOf(a[3].toUpperCase())>=0}:jQuery.expr.createPseudo(function(i){return function(t){return e(t).text().toUpperCase().indexOf(i.toUpperCase())>=0}}),e.fn.filterTable=function(i){var t={autofocus:!1,callback:null,containerClass:"filter-table",containerTag:"p",hideTFootOnFilter:!1,highlightClass:"alt",inputName:"",inputType:"search",label:"Filter:",minRows:8,placeholder:"search this table",quickList:[],quickListClass:"quick",quickListGroupTag:"",quickListTag:"a",visibleClass:"visible"},a=function(e){return e.replace(/&/g,"&amp;").replace(/"/g,"&quot;").replace(/</g,"&lt;").replace(/>/g,"&gt;")},l=e.extend({},t,i),n=function(e,i){var t=e.find("tbody");""===i?(t.find("tr").show().addClass(l.visibleClass),t.find("td").removeClass(l.highlightClass),l.hideTFootOnFilter&&e.find("tfoot").show()):(t.find("tr").hide().removeClass(l.visibleClass),l.hideTFootOnFilter&&e.find("tfoot").hide(),t.find("td").removeClass(l.highlightClass).filter(':filterTableFind("'+i.replace(/(['"])/g,"\\$1")+'")').addClass(l.highlightClass).closest("tr").show().addClass(l.visibleClass)),l.callback&&l.callback(i,e)};return this.each(function(){var i=e(this),t=i.find("tbody"),s=null,r=null,o=null;"TABLE"===i[0].nodeName&&t.length>0&&(0===l.minRows||l.minRows>0&&t.find("tr").length>l.minRows)&&!i.prev().hasClass(l.containerClass)&&(s=e("<"+l.containerTag+" />"),""!==l.containerClass&&s.addClass(l.containerClass),s.prepend(l.label+" "),o=e('<input type="'+l.inputType+'" placeholder="'+l.placeholder+'" name="'+l.inputName+'" />'),l.autofocus&&o.attr("autofocus",!0),e.fn.bindWithDelay?o.bindWithDelay("keyup",function(){n(i,e(this).val())},200):o.bind("keyup",function(){n(i,e(this).val())}),o.bind("click search",function(){n(i,e(this).val())}),s.append(o),l.quickList.length>0&&(r=l.quickListGroupTag?e("<"+l.quickListGroupTag+" />"):s,e.each(l.quickList,function(i,t){var n=e("<"+l.quickListTag+' class="'+l.quickListClass+'" />');n.text(a(t)),"A"===n[0].nodeName&&n.attr("href","#"),n.bind("click",function(e){e.preventDefault(),o.val(t).focus().trigger("click")}),r.append(n)}),r!==s&&s.append(r)),i.before(s))})}}(jQuery);